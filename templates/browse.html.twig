{% extends 'base.html.twig' %}
{% block principal %}
	<div class="container">
		<div class="row">
			<div class="col-lg-12">
				<div class="page-content">
					<div class="row">
						<div class="col-lg-8">
							<div class="featured-games header-text">
								<div class="heading-section">
									<h4>
										<em style="color:whitesmoke">Featured</em>
										Games</h4>
								</div>
								<div class="owl-features owl-carousel">
									{% for juego in juegos %}
										<div class="item">
											<div
												class="thumb">
												{# <a href="/games/<?= $juego->getId() ?>"><img src=" <?= $juego->getUrlImagenJuego() ?>" alt="" style="cursor: pointer"></a> #}
												<div class="hover-effect" style="cursor: pointer">
													<h6>
														{# <?= $juegosRepository->getCategoria($juego)->getNombre() ?> #}
													</h6>
												</div>
											</div>
											{# <a href="/games/<?= $juego->getId() ?>"> #}
											<h4
												class="col-lg-8" style="cursor: pointer">
												{# <?= $juego->getNombre(); ?> #}
												<br><span
													style="cursor: pointer">{# <?= $juegosRepository->getCategoria($juego)->getNombre() ?> #}
												</span>
											</h4>
										</a>
										<ul>
											<li>
												<i class="fa fa-star"></i>
												{# <?= $juego->getRating() ?> #}
											</li>
											<li>
												<i class="fa fa-money-bill text-success"></i>
												{# <?= $juego->getPrecio() ?>â‚¬ #}
											</li>
											<li>
												<i class="fa fa-download"></i>
												{# <?= $juego->getNumDownloads() ?> #}
											</li>
										</ul>
									</div>
								{% endfor %}
							</div>
						</div>
					</div>
					<div class="col-lg-4">
						<div class="top-downloaded">
							<div class="heading-section">
								<h4>
									<em style="color:whitesmoke">Top</em>
									Downloaded</h4>
							</div>
							<ul>
								{# <?php
									usort($juegos, function ($a, $b) {
										return $b->getNumDownloads() - $a->getNumDownloads();
									});
	
									$juegosMasDescargados = array_slice($juegos, 0, 3); #}
								{% for juego in juegosMasDescargados %}
									<li>
										{# <a href="/games/<?= $juego->getId() ?>"><img src=" <?= $juego->getUrlImagenJuego() ?>" alt="" class="templatemo-item" style="cursor: pointer"></a> #}
										{# <a href="/games/<?= $juego->getId() ?>"> #}<h4
											style="cursor: pointer"> {# <?= $juego->getNombre(); ?> #}
										</h4>
									</li>
								</a>
								<h6
									style="cursor: pointer">{# <?= $juegosRepository->getCategoria($juego)->getNombre() ?> #}
								</h6>
								<span>
									<i class="fa fa-star" style="color: yellow;"></i>
									{# <?= $juego->getRating() ?> #}
								</span>
								<span>
									<i class="fa fa-download" style="color: #ec6090;"></i>
									{# <?= $juego->getNumDownloads() ?> #}
								</span>
								<div class="download" style="cursor: pointer">
									<a href="#">
										<i class="fa fa-download"></i>
									</a>
								</div>
							</li>
						{% endfor %}
					</ul>
					<div class="text-button">
						<a href="/games">View All Games</a>
					</div>
				</div>
			</div>

		</div>
		<div class="row" style="margin-top: 50px">
			<div class="most popular">
				<div class="col-lg-12" style="margin: 0px">
					<div class="featured-games header-text">
						<div class="heading-section">
							<h4>
								<em style="color:whitesmoke">Most Popular</em>
								Posts</h4>
						</div>
						<div class="row">
							{# <?php #}

							{# usort($posts, function ($a, $b) {
													            return $b->getNumLikes() - $a->getNumLikes();
													          }); #}

							{# $postsDestacados = array_slice($posts, 0, 4); #}

								{% for post in postsDestacados %}
									<div class="col-lg-3 col-sm-6"> <div class="item">
										<div class="like-count" style="position: relative; padding: 5px; border-radius: 20px; color: whitesmoke;">
											<p>
												<i class="fa fa-thumbs-up"></i>
												{# <?= $post->getNumLikes() ?>
																							                    Likes #}
											</p>
										</div>
										<div
											class="thumb">
											{# <a href="/posts/<?= $post->getId() ?>"><img style="min-height: 155px; max-height: 155px" src=" <?= $post->getUrlImagenPost() ?>" alt="" style="cursor: pointer; min-height: 150px"></a> #}
											<div class="hover-effect">
												<div class="content">
													<div class="main-button" style="font-size: 1px">
														<a href="/games">
															<i class="fa fa-gamepad"></i>
															{# <?= $postsRepository->getJuego($post)->getNombre() ?> #}
														</a>
													</div>
												</div>
											</div>
										</div>
										<div class="down-content">
											<div
												class="avatar" style="max-width: 30px; margin-top: 15px">{# <img src=" /public/images/imagenes_perfil/<?= $postsRepository->getCreador($post)->getProfileImage() ?>" alt="" style="max-width: 46px; border-radius: 50%; float: left; cursor: pointer"> #}
											</div>
											<p
												style="margin-top: 15px; margin-left: 37px; cursor: pointer">
												{# <?= $postsRepository->getCreador($post)->getUsername() ?> #}
												<i class="fa fa-calendar" aria-hidden="true" style="margin-left: 15px; cursor: normal"></i>
												{# <?= date_format(date_create($post->getFecha()), 'd-m-Y') ?> #}
											</p>
											<h6
												style="font-style: normal; margin-left: 30px; margin-top: 15px; color: whitesmoke">{# <?= $post->getTitulo() ?> #}
											</h6>
										</div>
									</div>
								</div>
							{% endfor %}
						</div>
						<div class="col-lg-12"></div>
					</div>
				</div>
				<div class="main-button" style="margin-left: 485px">
					<a href="/posts">View All Posts</a>
				</div>
				<!-- ***** Post End ***** -->
			</div>
		</div>
	</div>
{% endblock %}
