{% extends 'base.html.twig' %}
{% block principal %}
	<div class="container">
		<div class="row">
			<div class="col-lg-12">
				<div
					class="page-content">
					<!-- ***** Banner Start ***** -->
					<div class="row">
						<div class="col-lg-12">
							<div class="main-profile ">
								<h1 style="margin-bottom: 30px; color: #ec6090">
									<em style="text-decoration: none; font-style: normal; color:whitesmoke">My</em>
									profile</h1>
								<div class="row">
									<div class="col-lg-4">
										<img src="../public/images/imagenes_perfil/<?= $app['user']->getProfileImage() ?>" alt="" style="border-radius: 23px;">
									</div>
									<div class="col-lg-4 align-self-center">
										<div class="main-info header-text">
											<h4 style="color: whitesmoke">
												<?= $app['user']->getUsername() ?>
											</h4>
											<p>Post A New Post By Touching The Button Below.</p>
											<div class="main-border-button">
												<a href="/new-post">Create Post</a>
											</div>
										</div>
									</div>
									<div class="col-lg-4 align-self-center">
										<ul>
											<li>Games Downloaded
												<span>0</span>
											</li>
											<li>Friends Online
												<span>0</span>
											</li>
											<li>Posts
												<span>
													<?= $app['user']->getNumPosts() ?>
												</span>
											</li>
											<li>Clips
												<span>0</span>
											</li>
										</ul>
									</div>
									<div>
										<br>
										<button class="btn btn-dark" style="border: 1px grey solid">
											<a href="/change-password">
												<i class="fa fa-sign-out sr-icons"></i>
												Change Password
											</a>
										</button>
										<button class="btn btn-dark" style="border: 1px grey solid">
											<a href="/change-profileImage">
												<i class="fa fa-sign-out sr-icons"></i>
												Change Profile Image
											</a>
										</button>
										<button class="btn btn-danger">
											<a href="/logout">
												<i class="fa fa-sign-out sr-icons"></i>
												Logout
											</a>
										</button>
									</div>
								</div>
							</div>
							<div class="most-popular">
								<div class="row">
									<div class="col-lg-12">
										<div class="heading-section">
											<h4>
												<em style="color:whitesmoke; text-decoration: none">My</em>
												Posts</h4>
										</div>
										<div class="row">
											{% for post in posts %}
												<div class="col-lg-4 col-sm-3">
													<div class="item" style="min-height: 450px" ;>
														<a href="/posts/<?= $post->getId() ?>"><img style="min-height: 185px; max-height: 185px" src=" <?= $post->getUrlImagenPost() ?>" alt=""></a>
														<h4 class="col-lg-12">
															<?= $post->getTitulo() ?><br>
														</h4>
														<p class="col-lg-12">
															<?= $post->getDescripcion() ?>
														</p>
														<div class="down-content">
															<div class="avatar" style="max-width: 30px; margin-top: 15px">
																<img src=" /public/images/imagenes_perfil/<?= $postsRepository->getCreador($post)->getProfileImage() ?>" alt="" style="max-width: 46px; border-radius: 50%; float: left;">
															</div>
															<p style="margin-top: 15px; margin-left: 35px">
																<?= $postsRepository->getCreador($post)->getUsername() ?>
																<i class="fa fa-calendar" aria-hidden="true" style="margin-left: 15px"></i>
																<?= date_format(date_create($post->getFecha()), 'd-m-Y') ?>
															</p>
															<p style="margin-top: 10px; margin-left: 5px">
																<i class="fa fa-gamepad"></i>
																<?= $postsRepository->getJuego($post)->getNombre() ?>
															</p>
														</p>
													</div>
												</div>
											</div>
										{% endfor %}
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>{% endblock %}
